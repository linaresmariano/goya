extends ../layout

block content
  link(rel='stylesheet', href='/stylesheets/report/offer.css')
  script(src='/js/lib/jquery.printThis.js')
  script(src='/js/angular/controllers/report/offer.js')

  .container(ng-controller='offerCtrl', ng-init='init(#{JSON.stringify(semester)})')

    legend Generar reporte de Oferta Académica para el {{number}}º semestre de {{year}}

    div#report

      p#title(contenteditable="true") Oferta {{number}}º cuatrimestre de {{year}}
      p#title(contenteditable="true") Departamento: Ciencia y Tecnología
      p#title(contenteditable="true") Carrera: Tecnicatura en Programación Informática

      table#offer
        thead
          tr: th Área
              th Núcleo
              th Período
              th Modalidad
              th.col-md-1 Código Asignatura
              th Nombre Asignatura
              th Créditos
              th.col-md-2 Días y Horarios {{year}}
              th.col-md-2 Docente/s (Apellido y nombre completo)
              th Inscritos
              th Cupo
              th Aulas requeridas
              th Grupo Carreras
              th.col-md-1 Nueva Asignatura Indicar para que Plan de Estudios se oferta
        tbody
          tr(ng-repeat='course in courses')
            td(contenteditable="true") {{getArea(course.subject.area) || '-'}}
            td(contenteditable="true") {{getCore(course.subject.core) || '-'}}
            td(contenteditable="true") {{course.subject.period || '-'}}
            td(contenteditable="true") {{getModality(course.modality) || '-'}}
            td(contenteditable="true") {{course.subject.ocode || '-'}}
            td(contenteditable="true") {{course.subject.name}}
            td(contenteditable="true") {{course.subject.credits || '-'}}
            td(contenteditable="true")
              div(ng-repeat='schedule in course.schedules')
                {{scheduleView(schedule)}}
            td(contenteditable="true") {{course.semesterTeachers[0].teacher.name || 'A designar'}}
            td(contenteditable="true") {{course.enrolled || '-'}}
            td(contenteditable="true") {{course.capacity || '-'}}
            td(contenteditable="true")
              div(ng-repeat='schedule in course.schedules')
                {{classroomView(schedule)}}
            td(contenteditable="true") {{getCareerGroup(course.subject)}}
            td(contenteditable="true") No

    br
    button.btn.btn-success(onclick="$('#report').printThis()") Imprimir
